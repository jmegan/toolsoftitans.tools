<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="css/reset.css" rel="stylesheet"/>
        <link href="css/style.css" rel="stylesheet"/>

        <title>TOOLS OF TITANS</title>
    </head>
    <body>

      <form class="controls">
          <button type="reset" class="control control-text">Reset</button>

          <fieldset data-filter-group class="control-group">
              <label class="control-group-label">Color</label>

              <button type="button" class="control control-color" data-filter=".green">Green</button>
              <button type="button" class="control control-color" data-filter=".blue">Blue</button>
              <button type="button" class="control control-color" data-filter=".pink">Pink</button>
          </fieldset>

          <div class="control-group">
              <button type="button" class="control control-sort" data-sort="default:asc">Asc</button>
              <button type="button" class="control control-sort" data-sort="default:desc">Desc</button>
          </div>

          <button type="button" class="control text" data-sort="random">Shuffle</button>

          <fieldset data-filter-group class="text-input-wrapper">
              <input type="text" data-search-attribute="data-color" placeholder="Search by color"/>
          </fieldset>

      </form>



        <div class="container" data-ref="container">
          <div class="mix green small square" data-color="green" data-shape="square" data-size="small"></div>
          <div class="mix green medium square" data-color="green" data-shape="square" data-size="medium"></div>
          <div class="mix blue large triangle" data-color="blue" data-shape="triangle" data-size="large"></div>
          <div class="mix pink large circle" data-color="pink" data-shape="circle" data-size="large"></div>
          <div class="mix green small circle" data-color="green" data-shape="circle" data-size="small"></div>
          <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
          <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
          <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
          <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
          <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
          <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
          <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
          <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
          <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>


          <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
          <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
          <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
          <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
          <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
          <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
          <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
          <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>  <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
            <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
            <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
            <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
            <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
            <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
            <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
            <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>  <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
              <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
              <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
              <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
              <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
              <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
              <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
              <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>  <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
                <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
                <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
                <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
                <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
                <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
                <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
                <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>  <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
                  <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
                  <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
                  <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
                  <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
                  <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
                  <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
                  <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>  <div class="mix pink medium square" data-color="pink" data-shape="square" data-size="medium"></div>
                    <div class="mix blue medium triangle" data-color="blue" data-shape="triangle" data-size="medium"></div>
                    <div class="mix pink small circle" data-color="pink" data-shape="circle" data-size="small"></div>
                    <div class="mix green large triangle" data-color="green" data-shape="triangle" data-size="large"></div>
                    <div class="mix blue small square" data-color="blue" data-shape="square" data-size="small"></div>
                    <div class="mix pink small square" data-color="pink" data-shape="square" data-size="small"></div>
                    <div class="mix green large square" data-color="green" data-shape="square" data-size="large"></div>
                    <div class="mix blue large circle" data-color="blue" data-shape="circle" data-size="large"></div>
            <div class="gap"></div>
            <div class="gap"></div>
            <div class="gap"></div>
        </div>

        <div class="controls-pagination">
            <div class="mixitup-page-list"></div>
            <div class="mixitup-page-stats"></div>
        </div>

        <script src="js_main/mixitup.min.js"></script>
        <script src="js_main/mixitup-multifilter.min.js"></script>
        <script src="js_main/mixitup-pagination.js"></script>

        <script>
            var containerEl = document.querySelector('.container');

            var mixer = mixitup(containerEl, {
                pagination: {
                    limit: 50
                }
            });

            var mixer = mixitup(containerEl, {
                animation: {
                    animateResizeContainer: false // required to prevent column algorithm bug
                }
            });

            // NB: See comments in stylesheet regarding fixes for chrome and safari "flickering"

            // START OF SEARCH****************
            var container = document.querySelector('[data-ref="container"]');
            var inputSearch = document.querySelector('[data-ref="input-search"]');
            var keyupTimeout;

            var mixer = mixitup(container, {
                animation: {
                    duration: 350
                },
                callbacks: {
                    onMixClick: function() {
                        // Reset the search if a filter is clicked

                        if (this.matches('[data-filter]')) {
                            inputSearch.value = '';
                        }
                    }
                }
            });

            // Set up a handler to listen for "keyup" events from the search input

            inputSearch.addEventListener('keyup', function() {
                var searchValue;

                if (inputSearch.value.length < 3) {
                    // If the input value is less than 3 characters, don't send

                    searchValue = '';
                } else {
                    searchValue = inputSearch.value.toLowerCase().trim();
                }

                // Very basic throttling to prevent mixer thrashing. Only search
                // once 350ms has passed since the last keyup event

                clearTimeout(keyupTimeout);

                keyupTimeout = setTimeout(function() {
                    filterByString(searchValue);
                }, 350);
            });

            /**
             * Filters the mixer using a provided search string, which is matched against
             * the contents of each target's "class" attribute. Any custom data-attribute(s)
             * could also be used.
             *
             * @param  {string} searchValue
             * @return {void}
             */

            function filterByString(searchValue) {
                if (searchValue) {
                    // Use an attribute wildcard selector to check for matches

                    mixer.filter('[class*="' + searchValue + '"]');
                } else {
                    // If no searchValue, treat as filter('all')

                    mixer.filter('all');
                }
            }
          // END OF SEARCH**********
          var mixer = mixitup(containerEl, {
              multifilter: {
                  enable: true
              },
              animation: {
                  effects: 'fade translateZ(-100px)'
              }
          });

        </script>
    </body>
</html>
